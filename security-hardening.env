# SonarQube Security Hardening Configuration
# Add these environment variables to the sonarqube service in docker-compose.yml

# Force HTTPS for all connections
SONAR_WEB_JAVAOPTS=-Dsonar.forceAuthentication=true -Dsonar.core.serverBaseURL=https://sonarqube.yourdomain.com

# Session timeout in minutes (default is 30)
SONAR_WEB_SESSION_TIMEOUTINSECONDS=1800

# LDAP Authentication (uncomment and configure if using LDAP)
# SONAR_SECURITY_REALM=LDAP
# LDAP_URL=ldap://ldap.yourdomain.com:389
# LDAP_BINDDN=cn=sonarqube,ou=users,dc=yourdomain,dc=com
# LDAP_BINDPASSWORD=ldappassword
# LDAP_USER_BASEDN=ou=users,dc=yourdomain,dc=com
# LDAP_USER_REQUEST=(&(objectClass=inetOrgPerson)(uid={login}))
# LDAP_USER_REALNAMEATTRIBUTE=cn
# LDAP_USER_EMAILATTRIBUTE=mail

# Java security options
SONAR_SEARCH_JAVAOPTS=-Xmx1G -Xms1G -XX:+HeapDumpOnOutOfMemoryError -Dnode.store.allow_mmap=false

# Disable telemetry
SONAR_TELEMETRY_ENABLE=false

# Disable development mode
SONAR_CE_JAVAOPTS=-Dsonar.ce.javaOpts=-XX:+HeapDumpOnOutOfMemoryError -Dsonar.updatecenter.activate=false